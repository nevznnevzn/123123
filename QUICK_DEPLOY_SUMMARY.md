# üöÄ –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π SolarBalance

## üìã –ß—Ç–æ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ

‚úÖ **–§–∞–π–ª—ã –¥–ª—è –¥–µ–ø–ª–æ—è:**
- `deploy.sh` - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è
- `start_server.sh` - –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞  
- `requirements-prod.txt` - –ü—Ä–æ–¥–∞–∫—à–µ–Ω –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `env.example` - –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `check_deploy.py` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –¥–µ–ø–ª–æ—é
- `DEPLOY_GUIDE.md` - –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- `solarbalance.service` - Systemd —Å–µ—Ä–≤–∏—Å (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

‚úÖ **–£–ª—É—á—à–µ–Ω–∏—è:**
- –ü—Ä–æ–¥–∞–∫—à–µ–Ω-–≥–æ—Ç–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ `config.py`
- –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `main.py`
- Graceful shutdown –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PostgreSQL –∏ SQLite

## üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
```bash
python check_deploy.py
```

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π
```bash
./deploy.sh
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
```bash
nano .env
# –£–∫–∞–∂–∏—Ç–µ BOT_TOKEN, ADMIN_IDS, AI_API
```

### 4. –ó–∞–ø—É—Å–∫
```bash
# –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫
./start_server.sh

# –ò–ª–∏ –∫–∞–∫ —Å–µ—Ä–≤–∏—Å
sudo systemctl start solarbalance
```

## ‚öôÔ∏è –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

```env
BOT_TOKEN=your_telegram_bot_token
ADMIN_IDS=123456789,987654321
AI_API=your_bothub_api_key
```

## üîß –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Python 3.9+**
- **RAM:** 1GB+ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 2GB+)
- **–î–∏—Å–∫:** 2GB+ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- **–û–°:** Ubuntu 18.04+, CentOS 7+, Debian 9+

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

```
solarbalance/
‚îú‚îÄ‚îÄ venv/                    # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ logs/                    # –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .env                     # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ astro_bot.db            # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite
‚îú‚îÄ‚îÄ de421.bsp, de422.bsp    # –§–∞–π–ª—ã —ç—Ñ–µ–º–µ—Ä–∏–¥ (—Å–∫–∞—á–∞—Ç—å)
‚îî‚îÄ‚îÄ solarbalance.service    # Systemd —Å–µ—Ä–≤–∏—Å
```

## üõ†Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–º

```bash
# –°—Ç–∞—Ç—É—Å
sudo systemctl status solarbalance

# –ó–∞–ø—É—Å–∫/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞
sudo systemctl start solarbalance
sudo systemctl stop solarbalance

# –õ–æ–≥–∏
sudo journalctl -u solarbalance -f

# –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫
sudo systemctl enable solarbalance
```

## üö® –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–°–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª—ã —ç—Ñ–µ–º–µ—Ä–∏–¥:**
   ```bash
   wget https://www.astro.com/ftp/swisseph/ephe/de421.bsp
   wget https://www.astro.com/ftp/swisseph/ephe/de422.bsp
   ```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:**
   ```bash
   chmod 600 .env
   chmod +x *.sh
   ```

3. **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ PostgreSQL:**
   ```env
   DATABASE_URL=postgresql://user:password@localhost:5432/solarbalance
   ```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ: `DEPLOY_GUIDE.md`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏: `python check_deploy.py`
- –õ–æ–≥–∏ –æ—à–∏–±–æ–∫: `sudo journalctl -u solarbalance -n 50`

---

**–ì–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é! üéâ** 